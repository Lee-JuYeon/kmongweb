<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í¬ëª½ ë©”ì„¸ì§€ í†µí•© ê´€ë¦¬</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/chat_room_list.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/chat_list.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/account_button.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/account_modal.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/reply_button.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/reply_modal.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/settings_dropdown.css') }}">



    <style>
        /* index.htmlì˜ <style> íƒœê·¸ ë‚´ë¶€ì— ì¶”ê°€ */
            html, body {
            margin: 0;
            padding: 0;
            overflow: hidden; /* ì „ì²´ í˜ì´ì§€ ìŠ¤í¬ë¡¤ë°” ì œê±° */
            height: 100%; /* í™”ë©´ ì „ì²´ ë†’ì´ë¥¼ ì°¨ì§€ */
        }

        body {
            margin: 0;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            height: 100vh; /* ì „ì²´ í™”ë©´ì„ ì±„ì›€ */
        }

        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px;
            background-color: #f5f5f5;
            font-size: 24px;
            font-weight: bold;
        }

        .container {
            display: flex;
            flex-grow: 1; /* ë‚¨ì€ ê³µê°„ì„ ëª¨ë‘ ì°¨ì§€ */
            height: calc(100vh - 60px); /* headerì˜ ë†’ì´ë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ê³µê°„ì„ ì°¨ì§€ */
            overflow: hidden; /* ì»¨í…Œì´ë„ˆ ë‚´ë¶€ ìŠ¤í¬ë¡¤ë°” ì œê±° */
        }
        
        .header-buttons {
            display: flex;
            gap: 10px;
        }
    </style>
</head>
<body>
    <div class="header">
        í¬ëª½ ë©”ì„¸ì§€ í†µí•©ê´€ë¦¬
        <div class="header-buttons">
            <div class="settings-container">
                <button id="settings-button" class="settings-button">
                    âš™ï¸ ì„¤ì •
                </button>
                <div id="settings-dropdown" class="settings-dropdown">
                    <a href="#" id="account-management-menu">ğŸ”’ ê³„ì • ê´€ë¦¬</a>
                    <a href="#" id="refresh-rate-menu">ğŸ•› ë©”ì„¸ì§€ ê°±ì‹ ì£¼ê¸° ì„¤ì •</a>
                    <a href="#" id="telegram-bot-menu">ğŸ“§ í…”ë ˆê·¸ë¨ ë´‡ì„¤ì •</a>
                </div>
            </div>
        </div>
    </div>

    <!-- ë©”ì‹œì§€ ê°±ì‹ ì£¼ê¸° ëª¨ë‹¬ -->
    <div id="refresh-rate-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>ë©”ì‹œì§€ ê°±ì‹ ì£¼ê¸° ì„¤ì •</h2>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <input type="number" id="refresh-interval" class="refresh-interval" placeholder="ëª‡ ì´ˆë§ˆë‹¤ ë©”ì„¸ì§€ë¥¼ ê°±ì‹ í• ê¹Œìš”?">
                <button id="set-refresh-rate" class="set-refresh-rate">ì„¤ì •</button>
            </div>
        </div>
    </div>

    <!-- ë©”ì‹œì§€ ê°±ì‹ ì£¼ê¸° ëª¨ë‹¬ -->
    <div class="container">
        <div id="chat-room-list" class="chat-room-list"></div>
        <div id="chat-container" class="chat-container">
            <div id="chat-sync-text" class="chat-sync-text">ğŸ”„ ì´ì „ ëŒ€í™”ë‚´ì—­ ê°€ì ¸ì˜¤ê¸°</div>
            <div id="chat-list" class="chat-list"></div>
            <div class="reply-container">
                <button id="reply-ai-button" class="reply-ai-button">
                    <img src="{{ url_for('static', filename='img/image_ai.png') }}" alt="ì²¨ë¶€">
                </button>
                <textarea id="reply-edittext" class="reply-edittext" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
                <button id="send-button" class="send-button">ë³´ë‚´ê¸°</button>
            </div>            
        </div>
    </div>

     <!-- í…”ë ˆê·¸ë¨ ë´‡ ì„¤ì • ëª¨ë‹¬ -->
     <div id="telegram-bot-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>í…”ë ˆê·¸ë¨ ë´‡ ì„¤ì •</h2>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <input type="text" id="telegram-bot-token" class="telegram-input" placeholder="í…”ë ˆê·¸ë¨ ë´‡ í† í°">
                <input type="text" id="telegram-chat-id" class="telegram-input" placeholder="í…”ë ˆê·¸ë¨ ì±„íŒ… ID">
                <button id="set-telegram-bot" class="set-telegram-bot">ì„¤ì •</button>
            </div>
        </div>
    </div>

    <!-- ê³„ì • ê´€ë¦¬ ëª¨ë‹¬ -->
    <div id="account_modal" class="account_modal">
        <div class="account_modal-content">
            <div class="account-modal-header-container">
                <h2>í¬ëª½ ê³„ì • ê´€ë¦¬</h2>
                <span class="close-account_modal">&times;</span>
            </div>
            <div class="email-pw-button-container">
                <textarea id="email" placeholder="ğŸ“§ ì´ë©”ì¼"></textarea>
                <textarea id="password" placeholder="ğŸ”’ ë¹„ë°€ë²ˆí˜¸"></textarea>
                <button class="add-account-button">ê³„ì • ì¶”ê°€</button>
            </div>
            <div id="account-list" class="account-list"></div>
        </div>
    </div>

    <div id="reply-modal" class="reply-modal">
        <div class="reply-modal-content">
            <div class="reply-modal-header">
                <h2>AI ìë™ ë‹µë³€ ì„ íƒ</h2>
                <button id="close-reply-modal" class="close-reply-modal">ë‹«ê¸°</button>
            </div>
            <ul class="reply-list" id="reply-list">
                <li class="reply-item" data-type="positive_basic">
                    <div class="reply-item-header">
                        <span class="reply-item-title">âœ… ê¸°ë³¸ ê¸ì • ë‹µë³€</span>
                    </div>
                    <div class="reply-item-content">
                        <span class="loading-text">ëŒ€ë‹µì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</span>
                    </div>
                </li>
                <li class="reply-item" data-type="positive_detailed">
                    <div class="reply-item-header">
                        <span class="reply-item-title">âœ… ìƒì„¸ ê¸ì • ë‹µë³€</span>
                    </div>
                    <div class="reply-item-content">
                        <span class="loading-text">ëŒ€ë‹µì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</span>
                    </div>
                </li>
                <li class="reply-item" data-type="negative_basic">
                    <div class="reply-item-header">
                        <span class="reply-item-title">âŒ ê¸°ë³¸ ê±°ì ˆ ë‹µë³€</span>
                    </div>
                    <div class="reply-item-content">
                        <span class="loading-text">ëŒ€ë‹µì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</span>
                    </div>
                </li>
                <li class="reply-item" data-type="negative_with_margin">
                    <div class="reply-item-header">
                        <span class="reply-item-title">âš–ï¸ ì—¬ì§€ë¥¼ ë‘” ê±°ì ˆ</span>
                    </div>
                    <div class="reply-item-content">
                        <span class="loading-text">ëŒ€ë‹µì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</span>
                    </div>
                </li>
                <li class="reply-item" data-type="alternative_solution">
                    <div class="reply-item-header">
                        <span class="reply-item-title">ğŸ’¡ ëŒ€ì²´ í•´ê²°ì±…</span>
                    </div>
                    <div class="reply-item-content">
                        <span class="loading-text">ëŒ€ë‹µì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</span>
                    </div>
                </li>
            </ul>
        </div>
    </div>
    
    <!-- JavaScript íŒŒì¼ ë¡œë“œ - MVVM íŒ¨í„´ ì ìš© -->
    <!-- ViewModels -->
    <script type="module" src="{{ url_for('static', filename='js/viewmodel/account_viewmodel.js') }}"></script>
    <script type="module" src="{{ url_for('static', filename='js/viewmodel/message_viewmodel.js') }}"></script>
    <script type="module" src="{{ url_for('static', filename='js/viewmodel/ai_reply_viewmodel.js') }}"></script>
    <script type="module" src="{{ url_for('static', filename='js/viewmodel/settings_viewmodel.js') }}"></script>
    
    <!-- UI Handlers -->
    <script type="module" src="{{ url_for('static', filename='js/account_ui.js') }}"></script>
    <script type="module" src="{{ url_for('static', filename='js/message_ui.js') }}"></script>
    <script type="module" src="{{ url_for('static', filename='js/ai_reply_modal.js') }}"></script>
    <script type="module" src="{{ url_for('static', filename='js/settings_ui.js') }}"></script>
    
    <!-- Main Application -->
    <script type="module" src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>